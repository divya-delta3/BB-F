<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <link href="http://localhost:3000/stylesheets/intermediary/home.css" type="text/css" rel="stylesheet">
        <link rel="shortcut icon" type="image/jpg" href="http://localhost:3000/fav.png">


        <title>Bluebird | Intermediary</title>
    </head>

    <body>

        <%- include('../partials/navbar/navbar-intermediary') %>

        <div class="container m-3">
            <%- include('../partials/flash') %>
        </div>

        <div class="container m-5">
            <h1>Welcome, <%= `${user.firstName[0].toUpperCase() + user.firstName.slice(1,)}` %></h1>
            <hr>
        </div>

        <!-- new appointment button -->
        <div class="container m-5">
            <!-- appointment card -->
            <div class="card" id="new-appointment-card">
                <div id="newAppointmentHeader" class="card-header">
                    New Appointment
                </div>
                <div class="card-body">
                    <button type="button" id="new-appointment-button" class="btn btn-outline-primary mt-2 mx-5" data-bs-toggle="modal" data-bs-target="#newAppointment">
                        Make Appointment
                    </button>
                </div>
            </div>

            <!-- appointment modal -->
            <div class="modal fade" id="newAppointment" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Make New Appointment</h5>
                        </div>
                        <div class="modal-body">
                            <!-- appointment form -->
                            <form action="/bluebird/intermediary/newAppointment/<%= user._id %>" method="POST">
                                <div class="mb-3">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First Name" required>
                                </div>

                                <div class="mb-3">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last Name" required>
                                </div>

                                <div class="mb-3">
                                    <label for="email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="email" name="email" placeholder="example@email.com" required>
                                </div>

                                <div class="mb-3">
                                    <label for="contact" class="form-label">Contact Number</label>
                                    <input type="text" class="form-control" id="contact" name="contact" placeholder="Contact Number" required>
                                </div>

                                <div class="mb-3">
                                    <label for="address" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="address" name="address" placeholder="Address" required>
                                </div>

                                <div class="mb-3">
                                    <label for="symptoms" class="form-label">Symptoms</label>
                                    <textarea class="form-control" id="symptoms" name="symptoms" cols="30" rows="4"></textarea>
                                </div>

                                <div class="mb-3">
                                    <label for="date" class="form-label">Date of Appointment</label>
                                    <input type="date" class="form-control" id="date" name="date" required>
                                </div>

                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" name="bluebirdAccount" id="bluebirdAccount">
                                    <label class="form-check-label" for="bluebirdAccount">
                                        Bluebird Account
                                    </label>
                                </div>

                                <button type="submit" class="btn btn-success">Make</button>
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                            </form> <!-- appointment form ends here -->
                        </div>
                    </div>
                </div>
            </div><!-- appointment modal ends here -->
        </div><!-- appointment container ends here -->


        <div class="mb-3">
            <!-- today appointment button -->
            <div class="container m-5">
                <!-- appointment card -->
                <div class="card" id="upcoming-appointment-card">
                    <div id="upcomingAppointmentHeader" class="card-header">
                        Upcoming Appointments
                    </div>

                    <div class="card-body">
                        <p>Appointment date cannot be edited. You need to make new appointment.</p>
                        <a href="/bluebird/intermediary/appointment/show" id="upcoming-appointment-button" class="btn btn-outline-success">Check</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="mb-3">
            <!-- today appointment button -->
            <div class="container m-5">
                <!-- appointment card -->
                <div class="card" id="upcoming-appointment-card">
                    <div id="allAppointmentHeader" class="card-header">
                        Appointments History
                    </div>

                    <div class="card-body">
                        <a href="/bluebird/intermediary/appointment/<%= user._id %>/all" id="all-appointment-button" class="btn btn-outline-dark">Check History</a>
                    </div>
                </div>
            </div>
        </div>

        <%- include('../partials/footer') %>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        <script src="http://localhost:3000/javascripts/intermediary/home.js"></script>
    </body>
</html>